import{_ as f}from"./items.vue_vue_type_script_setup_true_lang.ad49ebef.js";import{a as h,cw as k,e as w,w as x,T as E,K as A,o as a,f as o,h as m,u as e,t as c,m as v,G as B,by as C,i as _,c as D}from"./entry.3d67c050.js";import{u as q}from"./asyncData.894739ec.js";import{E as F,e as z,g as b}from"./news.d9b6e3bd.js";import{E as N}from"./index.3dac7eb5.js";import"./index.3a9cc1a4.js";import"./debounce.40f3910e.js";import"./index.c0eea35e.js";import"./index.bf0ec666.js";import"./_getTag.9e49f952.js";const S={class:"min-h-full flex flex-col"},V={class:"text-4xl mb-5"},$={key:0},j={key:1},I={key:0,class:"bg-white px-5 rounded overflow-hidden"},L={key:0,class:"pt-5 text-tx-secondary"},T={class:"py-4 flex justify-end"},U={key:1,class:"flex-1 flex justify-center items-center"},X=h({__name:"index",async setup(G){let n,l;const s=k(),r=w({page_no:1,page_size:15,keyword:s.query.keywords,cid:s.query.cid||"",sort:s.params.source}),{data:i,refresh:d}=([n,l]=x(()=>q(()=>b(r),{initialCache:!1},"$ewxCUYuASd")),n=await n,l(),n),y=E(()=>{switch(s.params.source){case"hot":return"\u70ED\u95E8\u8D44\u8BAF";case"new":return" \u6700\u65B0\u8D44\u8BAF";default:return"\u5168\u90E8\u8D44\u8BAF"}});return A(()=>s.query.keywords,p=>{r.keyword=p,d()}),(p,u)=>{const g=f;return a(),o("div",S,[m("div",V,[e(s).query.keywords?(a(),o("span",$,' \u67E5\u627E"'+c(e(s).query.keywords)+'" ',1)):(a(),o("span",j,c(e(s).query.name||e(y)),1))]),e(i).lists.length?(a(),o("div",I,[e(s).query.keywords?(a(),o("div",L," \u4E3A\u60A8\u627E\u5230\u76F8\u5173\u7ED3\u679C "+c(e(i).count)+"\u4E2A ",1)):v("",!0),(a(!0),o(B,null,C(e(i).lists,t=>(a(),D(g,{key:t.id,id:t.id,title:t.title,desc:t.desc,click:t.click,author:t.author,"create-time":t.create_time,image:t.image,"only-title":!1},null,8,["id","title","desc","click","author","create-time","image"]))),128)),m("div",T,[_(e(N),{"current-page":r.page_no,"onUpdate:current-page":u[0]||(u[0]=t=>r.page_no=t),total:e(i).count,"page-size":r.page_size,"hide-on-single-page":"",onCurrentChange:u[1]||(u[1]=t=>e(d)())},null,8,["current-page","total","page-size"])])])):(a(),o("div",U,[_(e(F),{image:e(z),description:"\u6682\u65E0\u8D44\u8BAF","image-size":250},null,8,["image"])]))])}}});export{X as default};
